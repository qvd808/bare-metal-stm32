# Custom OpenOCD config for STM32F446RE Nucleo

# 1. Use ST-Link as the interface
source [find interface/stlink.cfg]

# 2. Explicitly select SWD to avoid the deprecation warning
transport select swd

# 3. Set a stable adapter speed (pick one that doesnâ€™t fall back)
# Try 4000 first; if OpenOCD still falls back, use 1800.
adapter speed 1800

# 4. Load the generic STM32F4 target config
source [find target/stm32f4x.cfg]

# 5. Optional: disable GDB port if you only use 'program'
# gdb_port disabled

# 6. Optional: reset config (usually already handled by stm32f4x.cfg)
# reset_config srst_only srst_nogate
